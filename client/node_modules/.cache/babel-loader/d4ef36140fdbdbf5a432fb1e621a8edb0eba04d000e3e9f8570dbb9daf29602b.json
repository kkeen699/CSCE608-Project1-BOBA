{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import{Container,Row,Col,Card,Form,Button}from\"react-bootstrap\";import RecipeService from\"../../services/recipe.service\";import IngrService from\"../../services/ingr.service\";import CategoryService from\"../../services/category.service\";import Select from'react-select';import\"../style.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const ExploreRecipe=()=>{const[recipes,setRecipes]=useState([]);useEffect(()=>{RecipeService.getAllRecipe().then(_ref=>{let{data}=_ref;setRecipes(data);}).catch(err=>{console.log(err);});},[]);return/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsxs(Container,{className:\"py-5\",children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\" EXPLORE RECIPES \"}),/*#__PURE__*/_jsx(\"hr\",{})]}),/*#__PURE__*/_jsx(SearchBar,{setRecipes:setRecipes}),/*#__PURE__*/_jsx(Row,{xs:1,md:3,className:\"g-4\",children:recipes.slice(0,51).map((recipe,idx)=>/*#__PURE__*/_jsx(Recipe,{recipe:recipe},idx))})]})});};const SearchBar=_ref2=>{let{setRecipes}=_ref2;const[state,setState]=useState(1);const[ingrs,setIngrs]=useState([]);const[cats,setCats]=useState([]);const selectIngr=async value=>{const{data}=value.length?await RecipeService.getByIngrs(value):await RecipeService.getAllRecipe();setRecipes(data);};const selectCat=async value=>{const{data}=value.length?await RecipeService.getByCats(value):await RecipeService.getAllRecipe();setRecipes(data);};useEffect(()=>{IngrService.getAll().then(_ref3=>{let{data}=_ref3;const temp=data.map(element=>{return{value:element.id,label:element.name};});setIngrs(temp);}).catch(err=>{console.log(err);});CategoryService.getAll().then(_ref4=>{let{data}=_ref4;const temp=data.map(element=>{return{value:element.id,label:element.name};});setCats(temp);}).catch(err=>{console.log(err);});},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Row,{className:\"mb-1\",children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsx(Form.Check,{inline:true,label:\"Most Liked\",name:\"SearchBar\",type:\"radio\",id:\"1\",defaultChecked:true,onChange:()=>setState(1)}),/*#__PURE__*/_jsx(Form.Check,{inline:true,label:\"Search By Ingredients\",name:\"SearchBar\",type:\"radio\",id:\"2\",onChange:()=>setState(2)}),/*#__PURE__*/_jsx(Form.Check,{inline:true,label:\"Search By Categories\",name:\"SearchBar\",type:\"radio\",id:\"3\",onChange:()=>setState(3)})]})}),/*#__PURE__*/_jsxs(Row,{className:\"mb-3\",children:[state===1&&/*#__PURE__*/_jsx(Select,{isDisabled:true}),state===2&&/*#__PURE__*/_jsx(Select,{name:\"ingrs\",className:\"basic-multi-select\",classNamePrefix:\"select\",options:ingrs,isMulti:true,closeMenuOnSelect:false,onChange:selectIngr}),state===3&&/*#__PURE__*/_jsx(Select,{name:\"cats\",className:\"basic-multi-select\",classNamePrefix:\"select\",options:cats,isMulti:true,closeMenuOnSelect:false,onChange:selectCat})]})]});};const Recipe=_ref5=>{let{recipe}=_ref5;const navigate=useNavigate();return/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Button,{className:\"p-1\",variant:\"outline-secondary\",onClick:()=>navigate(\"/recipes/\".concat(recipe.id)),children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Card.Img,{variant:\"top\",src:\"boba.jpg\"}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(Card.Title,{as:\"h4\",children:[\" \",recipe.name.toUpperCase(),\" \"]})})]})})});};export default ExploreRecipe;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Container","Row","Col","Card","Form","Button","RecipeService","IngrService","CategoryService","Select","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ExploreRecipe","recipes","setRecipes","getAllRecipe","then","_ref","data","catch","err","console","log","children","className","SearchBar","xs","md","slice","map","recipe","idx","Recipe","_ref2","state","setState","ingrs","setIngrs","cats","setCats","selectIngr","value","length","getByIngrs","selectCat","getByCats","getAll","_ref3","temp","element","id","label","name","_ref4","Check","inline","type","defaultChecked","onChange","isDisabled","classNamePrefix","options","isMulti","closeMenuOnSelect","_ref5","navigate","variant","onClick","concat","Img","src","Body","Title","as","toUpperCase"],"sources":["/home/kcheng/Desktop/CSCE608-Project1-BOBA/client/src/components/recipe/exploreRecipe-component.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Container, Row, Col, Card, Form, Button } from \"react-bootstrap\";\nimport RecipeService from \"../../services/recipe.service\";\nimport IngrService from \"../../services/ingr.service\";\nimport CategoryService from \"../../services/category.service\"\nimport Select from 'react-select';\nimport \"../style.css\";\n\nconst ExploreRecipe = () => {\n  const [recipes, setRecipes] = useState([]);\n\n  useEffect(() => {\n    RecipeService.getAllRecipe()\n    .then(({data}) => {\n      setRecipes(data);\n    })\n    .catch((err) => {\n      console.log(err)\n    });\n  }, [])\n\n  return(\n    <main>\n      <Container className=\"py-5\">\n        <Row> \n          <h2> EXPLORE RECIPES </h2>\n          <hr/>\n        </Row>\n        <SearchBar setRecipes={setRecipes}/>\n        <Row xs={1} md={3} className=\"g-4\">\n          {recipes.slice(0, 51).map((recipe, idx) => (\n            <Recipe key={idx} recipe={recipe}/>\n          ))}\n        </Row>\n      </Container>\n    </main>\n  )\n};\n\nconst SearchBar = ({setRecipes}) => {\n  const [state, setState] = useState(1);\n  const [ingrs, setIngrs] = useState([]);\n  const [cats, setCats] = useState([]);\n\n  const selectIngr = async (value) => {\n    const {data} = value.length ? await RecipeService.getByIngrs(value) \n                                : await RecipeService.getAllRecipe();\n    setRecipes(data);\n  }\n\n  const selectCat = async (value) => {\n    const {data} = value.length ? await RecipeService.getByCats(value) \n                                : await RecipeService.getAllRecipe();\n    setRecipes(data);\n  }\n\n  useEffect(() => {\n    IngrService.getAll()\n    .then(({data}) => {\n      const temp = data.map((element) => {return {value: element.id, label: element.name}});\n      setIngrs(temp);\n    }).catch((err) => {\n      console.log(err)\n    });\n\n    CategoryService.getAll()\n    .then(({data}) => {\n      const temp = data.map((element) => {return {value: element.id, label: element.name}});\n      setCats(temp);\n    }).catch((err) => {\n      console.log(err)\n    });\n  }, []);\n\n  return(\n    <>\n    <Row className=\"mb-1\">\n    <Form>\n      <Form.Check\n        inline\n        label=\"Most Liked\"\n        name=\"SearchBar\"\n        type=\"radio\"\n        id=\"1\"\n        defaultChecked\n        onChange={() => setState(1)}\n      />\n      <Form.Check\n        inline\n        label=\"Search By Ingredients\"\n        name=\"SearchBar\"\n        type=\"radio\"\n        id=\"2\"\n        onChange={() => setState(2)}\n      />\n      <Form.Check\n        inline\n        label=\"Search By Categories\"\n        name=\"SearchBar\"\n        type=\"radio\"\n        id=\"3\"\n        onChange={() => setState(3)}\n      />\n    </Form>\n    </Row>\n    <Row className=\"mb-3\">\n      {state === 1 && (\n        <Select isDisabled />\n      )}\n      {state === 2 && (<Select\n        name=\"ingrs\"\n        className=\"basic-multi-select\"\n        classNamePrefix=\"select\"\n        options={ingrs}\n        isMulti\n        closeMenuOnSelect={false}\n        onChange={selectIngr}\n      />)}\n      {state === 3 && (<Select\n        name=\"cats\"\n        className=\"basic-multi-select\"\n        classNamePrefix=\"select\"\n        options={cats}\n        isMulti\n        closeMenuOnSelect={false}\n        onChange={selectCat}\n      />)}\n    </Row>\n    </>\n  )\n}\n\nconst Recipe = ({recipe}) => {\n  const navigate = useNavigate()\n  return(\n    <Col>\n      <Button className=\"p-1\" variant=\"outline-secondary\" \n       onClick={() => navigate(`/recipes/${recipe.id}`)}>\n        <Card>\n          <Card.Img variant=\"top\" src=\"boba.jpg\"/>\n          <Card.Body>\n            <Card.Title as=\"h4\"> {recipe.name.toUpperCase()} </Card.Title>\n          </Card.Body>\n        </Card>\n      </Button>\n    </Col>\n  );\n};\n\n\n\nexport default ExploreRecipe;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
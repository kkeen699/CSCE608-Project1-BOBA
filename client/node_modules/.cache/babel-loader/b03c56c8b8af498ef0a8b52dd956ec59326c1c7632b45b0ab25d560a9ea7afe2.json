{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import ListService from\"../../services/list.service\";import{Col,Container,Row}from\"react-bootstrap\";import\"../style.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const AllList=()=>{return/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsx(Container,{className:\"py-5\",children:/*#__PURE__*/_jsx(Lists,{})})});};const Lists=()=>{const[lists,setLists]=useState([]);const navigate=useNavigate();const addList=()=>{const name=\"New List \".concat(lists.length+1);ListService.addList(name,'This is a new shopping list.').then(_ref=>{let{data}=_ref;navigate(\"/mylist/\".concat(data.insertId));}).catch(err=>{console.log(err);});};const deleteList=id=>{setLists(lists.filter(list=>list.id!==id));ListService.deleteList(id);};useEffect(()=>{ListService.getAll().then(_ref2=>{let{data}=_ref2;setLists(data);}).catch(err=>{console.log(err);});},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"MY SHOPPING LISTS\",/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-round\",onClick:addList,children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-plus-lg\"})})]}),/*#__PURE__*/_jsx(\"hr\",{})]}),/*#__PURE__*/_jsx(Container,{children:lists.map((list,idx)=>/*#__PURE__*/_jsx(List,{list:list,deleteList:deleteList},idx))})]});};const List=_ref3=>{let{list,deleteList}=_ref3;return/*#__PURE__*/_jsxs(Row,{className:\"py-1\",children:[/*#__PURE__*/_jsx(Col,{sm:1,children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-round\",onClick:()=>{deleteList(list.id);},children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-x-lg\"})})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"a\",{href:\"/mylist/\".concat(list.id),style:{\"fontSize\":\"15pt\"},children:list.name})})]});};export default AllList;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","ListService","Col","Container","Row","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AllList","children","className","Lists","lists","setLists","navigate","addList","name","concat","length","then","_ref","data","insertId","catch","err","console","log","deleteList","id","filter","list","getAll","_ref2","onClick","map","idx","List","_ref3","sm","href","style"],"sources":["/home/kcheng/Desktop/CSCE608-Project1-BOBA/client/src/components/shoppingList/allList-component.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport ListService from \"../../services/list.service\";\nimport { Col, Container, Row } from \"react-bootstrap\";\nimport \"../style.css\";\n\nconst AllList = () => {\n  return (\n    <main>\n      <Container className=\"py-5\">\n        <Lists/>\n      </Container>\n    </main>\n  );\n};\n\n\nconst Lists = () => {\n  const [lists, setLists] = useState([]);\n  const navigate = useNavigate();\n\n  const addList = () => {\n    const name = `New List ${lists.length+1}`;\n    ListService.addList(name, 'This is a new shopping list.')\n    .then(({data}) => {\n      navigate(`/mylist/${data.insertId}`);\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }\n\n  const deleteList = (id) => {\n    setLists(lists.filter(list => list.id !== id));\n    ListService.deleteList(id);\n  }\n\n  useEffect(() => {\n    ListService.getAll()\n    .then(({data}) => {\n      setLists(data);\n    })\n    .catch((err) => {\n      console.log(err)\n    });\n  }, [])\n\n  return(\n    <>\n    <Row>\n      <h2>\n        MY SHOPPING LISTS\n        <button className=\"btn btn-round\" onClick={addList}>\n          <i className=\"bi bi-plus-lg\"></i>\n        </button> \n      </h2>\n      <hr/>\n    </Row>\n    <Container>\n      {lists.map((list, idx) =>\n        <List key={idx} list={list} deleteList={deleteList}/>\n      )}\n    </Container>\n    </>\n  )\n}\n\nconst List = ({list, deleteList}) => {\n  return(\n    <Row className=\"py-1\">\n      <Col sm={1}> \n        <button className=\"btn btn-round\" onClick={() => {deleteList(list.id)}}>\n          <i className=\"bi bi-x-lg\"></i>\n        </button>\n      </Col>\n      <Col>  \n        <a href={`/mylist/${list.id}`} style={{\"fontSize\": \"15pt\"}}>{list.name}</a>\n      </Col>\n    </Row>\n  )\n}\n\nexport default AllList;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}